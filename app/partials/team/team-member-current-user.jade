
//- This Source Code Form is subject to the terms of the Mozilla Public
//- License, v. 2.0. If a copy of the MPL was not distributed with this
//- file, You can obtain one at http://mozilla.org/MPL/2.0/.
//-
//- Copyright (c) 2021-present Kaleidos Ventures SL

.row
    .username
        .avatar
            img(tg-avatar="currentUser", tg-bo-alt="currentUser.full_name_display", ng-if="!emplogEnabled")
            a(
                ng-if="emplogEnabled"
                tg-nav="project-named-employee-log:project=project.slug,employee=currentUser.username"
            )
                img(tg-avatar="currentUser", tg-bo-alt="currentUser.full_name_display")

            .avatar-data
                .name
                    span(tg-bo-bind="currentUser.full_name_display")
                    tg-svg(
                        ng-if="currentUser.id == owner"
                        svg-icon="icon-badge"
                        svg-title-translate="COMMON.OWNER"
                    )

                .position(tg-bo-bind="currentUser.role_name")

                div(
                    tg-leave-project=""
                    project="project"
                    user="currentUser"
                )

    .member-stats(
        tg-team-member-stats
        stats="stats"
        user="currentUser.id"
        issuesenabled="issuesEnabled"
        tasksenabled="tasksEnabled"
        wikienabled="wikiEnabled"
        emplogenabled="emplogEnabled"
        usenabled="usEnabled"
    )
